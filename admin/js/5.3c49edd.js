webpackJsonp([5],{1:function(e,t){"use strict";var o=String.prototype.replace,r=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return o.call(e,r,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},2:function(e,t){"use strict";var o=Object.prototype.hasOwnProperty,r=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();t.arrayToObject=function(e,t){for(var o=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!=typeof e[r]&&(o[r]=e[r]);return o},t.merge=function(e,r,n){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];(n.plainObjects||n.allowPrototypes||!o.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var i=e;return Array.isArray(e)&&!Array.isArray(r)&&(i=t.arrayToObject(e,n)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,i){o.call(e,i)?e[i]&&"object"==typeof e[i]?e[i]=t.merge(e[i],r,n):e.push(r):e[i]=r}),e):Object.keys(r).reduce(function(e,i){var a=r[i];return o.call(e,i)?e[i]=t.merge(e[i],a,n):e[i]=a,e},i)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,o){return e[o]=t[o],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),o="",n=0;n<t.length;++n){var i=t.charCodeAt(n);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?o+=t.charAt(n):i<128?o+=r[i]:i<2048?o+=r[192|i>>6]+r[128|63&i]:i<55296||i>=57344?o+=r[224|i>>12]+r[128|i>>6&63]+r[128|63&i]:(n+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),o+=r[240|i>>18]+r[128|i>>12&63]+r[128|i>>6&63]+r[128|63&i])}return o},t.compact=function(e,o){if("object"!=typeof e||null===e)return e;var r=o||[],n=r.indexOf(e);if(n!==-1)return r[n];if(r.push(e),Array.isArray(e)){for(var i=[],a=0;a<e.length;++a)e[a]&&"object"==typeof e[a]?i.push(t.compact(e[a],r)):"undefined"!=typeof e[a]&&i.push(e[a]);return i}var l=Object.keys(e);return l.forEach(function(o){e[o]=t.compact(e[o],r)}),e},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&"undefined"!=typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},3:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.get=t.post=void 0;var n=o(11),i=r(n),a=o(17),l=r(a),s=o(5),d=r(s),c=o(16),u=r(c),f=o(6),p=o(18),g=function(e){return 0==e.code?l.default.resolve(e.data):e.code!=-100?l.default.reject(e):void setTimeout(function(){(0,p.MessageBox)({title:"错误",type:"error",message:"您的登录已超时，请重新登录！",duration:0,callback:function(){u.default.replace("/login")}})},200)},v=function(e){return e&&e instanceof FormData?e:(0,f.stringify)(e)};t.post=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d.default.http.post(e,v(t),o).then(g)},t.get=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d.default.http.get(e,(0,i.default)({},{params:t},o)).then(g)}},4:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WEBMENU_LIST="/manage/webMenu/list",t.WEBMENU_EDIT="/manage/webMenu/edit",t.HOMEBANNER_LIST="/manage/homeBanner/list",t.HOMEBANNER_EDIT="/manage/homeBanner/edit",t.HOMEBANNER_DEL="/manage/homeBanner/del",t.PEOPLE_LIST="/manage/people/list",t.PEOPLE_EDIT="/manage/people/edit",t.PEOPLE_DEL="/manage/people/del",t.JOIN_LIST="/manage/join/list",t.JOIN_EDIT="/manage/join/edit",t.JOIN_DEL="/manage/join/del",t.WEB_SETTING_INFO="/manage/webSetting/getInfo",t.WEB_SETTING_EDIT="/manage/webSetting/edit",t.TEAMMINUS_INFO="/manage/teamminus/getInfo",t.TEAMMINUS_EDIT="/manage/teamminus/edit",t.ADMIN_LIST="/manage/admin/list",t.ADMIN_EDIT="/manage/admin/edit",t.ADMIN_RESETPWD="/manage/admin/resetPwd",t.ADMIN_DEL="/manage/admin/del",t.CHANGE_PWD="/manage/admin/changePwd",t.LOGIN="/manage/login",t.LOGOUT="/manage/admin/logout",t.MENU_TREE="/manage/menu/treeMenu",t.MENU_EDIT="/manage/menu/edit",t.VIDEO_LIST="/manage/video/list",t.VIDEO_EDIT="/manage/video/edit",t.VIDEO_DEL="/manage/video/del",t.PROJECT_LIST="/manage/project/list",t.PROJECT_EDIT="/manage/project/edit",t.PROJECT_DEL="/manage/project/del"},6:function(e,t,o){"use strict";var r=o(8),n=o(7),i=o(1);e.exports={formats:i,parse:n,stringify:r}},7:function(e,t,o){"use strict";var r=o(2),n=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t){for(var o={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,l=r.split(t.delimiter,a),s=0;s<l.length;++s){var d,c,u=l[s],f=u.indexOf("]="),p=f===-1?u.indexOf("="):f+1;p===-1?(d=t.decoder(u,i.decoder),c=t.strictNullHandling?null:""):(d=t.decoder(u.slice(0,p),i.decoder),c=t.decoder(u.slice(p+1),i.decoder)),n.call(o,d)?o[d]=[].concat(o[d]).concat(c):o[d]=c}return o},l=function(e,t,o){if(!e.length)return t;var r,n=e.shift();if("[]"===n)r=[],r=r.concat(l(e,t,o));else{r=o.plainObjects?Object.create(null):{};var i="["===n.charAt(0)&&"]"===n.charAt(n.length-1)?n.slice(1,-1):n,a=parseInt(i,10);!isNaN(a)&&n!==i&&String(a)===i&&a>=0&&o.parseArrays&&a<=o.arrayLimit?(r=[],r[a]=l(e,t,o)):r[i]=l(e,t,o)}return r},s=function(e,t,o){if(e){var r=o.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,s=i.exec(r),d=s?r.slice(0,s.index):r,c=[];if(d){if(!o.plainObjects&&n.call(Object.prototype,d)&&!o.allowPrototypes)return;c.push(d)}for(var u=0;null!==(s=a.exec(r))&&u<o.depth;){if(u+=1,!o.plainObjects&&n.call(Object.prototype,s[1].slice(1,-1))&&!o.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+r.slice(s.index)+"]"),l(c,t,o)}};e.exports=function(e,t){var o=t?r.assign({},t):{};if(null!==o.decoder&&void 0!==o.decoder&&"function"!=typeof o.decoder)throw new TypeError("Decoder has to be a function.");if(o.ignoreQueryPrefix=o.ignoreQueryPrefix===!0,o.delimiter="string"==typeof o.delimiter||r.isRegExp(o.delimiter)?o.delimiter:i.delimiter,o.depth="number"==typeof o.depth?o.depth:i.depth,o.arrayLimit="number"==typeof o.arrayLimit?o.arrayLimit:i.arrayLimit,o.parseArrays=o.parseArrays!==!1,o.decoder="function"==typeof o.decoder?o.decoder:i.decoder,o.allowDots="boolean"==typeof o.allowDots?o.allowDots:i.allowDots,o.plainObjects="boolean"==typeof o.plainObjects?o.plainObjects:i.plainObjects,o.allowPrototypes="boolean"==typeof o.allowPrototypes?o.allowPrototypes:i.allowPrototypes,o.parameterLimit="number"==typeof o.parameterLimit?o.parameterLimit:i.parameterLimit,o.strictNullHandling="boolean"==typeof o.strictNullHandling?o.strictNullHandling:i.strictNullHandling,""===e||null===e||"undefined"==typeof e)return o.plainObjects?Object.create(null):{};for(var n="string"==typeof e?a(e,o):e,l=o.plainObjects?Object.create(null):{},d=Object.keys(n),c=0;c<d.length;++c){var u=d[c],f=s(u,n[u],o);l=r.merge(l,f,o)}return r.compact(l)}},8:function(e,t,o){"use strict";var r=o(2),n=o(1),i={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Date.prototype.toISOString,l={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(e){return a.call(e)},skipNulls:!1,strictNullHandling:!1},s=function e(t,o,n,i,a,s,d,c,u,f,p,g){var v=t;if("function"==typeof d)v=d(o,v);else if(v instanceof Date)v=f(v);else if(null===v){if(i)return s&&!g?s(o,l.encoder):o;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||r.isBuffer(v)){if(s){var m=g?o:s(o,l.encoder);return[p(m)+"="+p(s(v,l.encoder))]}return[p(o)+"="+p(String(v))]}var h=[];if("undefined"==typeof v)return h;var y;if(Array.isArray(d))y=d;else{var b=Object.keys(v);y=c?b.sort(c):b}for(var _=0;_<y.length;++_){var O=y[_];a&&null===v[O]||(h=Array.isArray(v)?h.concat(e(v[O],n(o,O),n,i,a,s,d,c,u,f,p,g)):h.concat(e(v[O],o+(u?"."+O:"["+O+"]"),n,i,a,s,d,c,u,f,p,g)))}return h};e.exports=function(e,t){var o=e,a=t?r.assign({},t):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var d="undefined"==typeof a.delimiter?l.delimiter:a.delimiter,c="boolean"==typeof a.strictNullHandling?a.strictNullHandling:l.strictNullHandling,u="boolean"==typeof a.skipNulls?a.skipNulls:l.skipNulls,f="boolean"==typeof a.encode?a.encode:l.encode,p="function"==typeof a.encoder?a.encoder:l.encoder,g="function"==typeof a.sort?a.sort:null,v="undefined"!=typeof a.allowDots&&a.allowDots,m="function"==typeof a.serializeDate?a.serializeDate:l.serializeDate,h="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:l.encodeValuesOnly;if("undefined"==typeof a.format)a.format=n.default;else if(!Object.prototype.hasOwnProperty.call(n.formatters,a.format))throw new TypeError("Unknown format option provided.");var y,b,_=n.formatters[a.format];"function"==typeof a.filter?(b=a.filter,o=b("",o)):Array.isArray(a.filter)&&(b=a.filter,y=b);var O=[];if("object"!=typeof o||null===o)return"";var E;E=a.arrayFormat in i?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var j=i[E];y||(y=Object.keys(o)),g&&y.sort(g);for(var w=0;w<y.length;++w){var D=y[w];u&&null===o[D]||(O=O.concat(s(o[D],D,j,c,u,f?p:null,b,g,v,m,_,h)))}var x=O.join(d),I=a.addQueryPrefix===!0?"?":"";return x.length>0?I+x:""}},29:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(21),i=r(n),a=o(11),l=r(a),s=o(3),d=[];t.default={data:function(){return{vo:{loading:!1,currentPage:1,pageSize:20,total:0,data:[],timer:null}}},props:{params:{type:Object,default:function(){return{}}},url:String},computed:{},methods:{handleSizeChange:function(e){this.vo.pageSize=e,this.loadData()},handleCurrentChange:function(e){this.vo.currentPage=e,this.loadData()},loadData:function(){var e=this,t=(0,l.default)({},JSON.parse((0,i.default)(this.params)),{page:this.vo.currentPage,rows:this.vo.pageSize});this.vo.loading=!0,window.clearTimeout(this.vo.timer),this.vo.timer=setTimeout(function(){e.vo.loading&&(e.vo.loading=!1,e.$message({type:"error",message:"服务器响应超时",duration:2e3,showClose:!0}))},1e4),(0,s.get)(this.url,t).then(function(t){e.vo.loading=!1,e.vo.data=t.rows,e.vo.total=t.total}).catch(function(t){e.vo.loading=!1,e.$message({type:"error",message:t.message,duration:0,showClose:!0})})},reload:function(){this.loadData()},resize:function(){var e=(document.documentElement.scrollTop,this.$el.getBoundingClientRect().top);this.vo.height=window.document.documentElement.clientHeight-e-50}},mounted:function(){var e=this;d.push(this),this.$nextTick(function(){e.resize()}),this.loadData()},filters:{}}},34:function(e,t,o){t=e.exports=o(15)(),t.push([e.id,".dg__warp[data-v-0b9306d2]{background-color:#fff;padding-bottom:8px}.jf-pagintion[data-v-0b9306d2]{background:#fff;margin-top:3px}",""])},36:function(e,t,o){var r=o(34);"string"==typeof r&&(r=[[e.id,r,""]]);o(19)(r,{});r.locals&&(e.exports=r.locals)},37:function(e,t,o){var r,n;o(36),r=o(29);var i=o(38);n=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(n=r=r.default),"function"==typeof n&&(n=n.options),n.render=i.render,n.staticRenderFns=i.staticRenderFns,n._scopeId="data-v-0b9306d2",e.exports=r},38:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.vo.loading,expression:"vo.loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"dg__warp"},[o("el-table",{attrs:{data:e.vo.data,border:"",height:e.vo.height,"element-loading-text":"拼命加载中"}},[e._t("default")],2),e._v(" "),o("el-pagination",{staticClass:"jf-pagintion",attrs:{"current-page":e.vo.currentPage,"page-sizes":[5,10,20,30,50,100,200],"page-size":e.vo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.vo.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]}},165:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(179),i=o(4),a=o(37),l=r(a);t.default={data:function(){return{dialogVisible:!1,po:{video:{id:"",text:"",url:""}},vo:{labelWidth:"120px",dialog:{title:"",open:!1,mode:"",reloadFile:!0},otherDialogOpen:!1,url:i.VIDEO_LIST},rules:{video:[{required:!0,message:"请选择视频",trigger:"change"}],text:[{required:!0,message:"请输入视频说明",trigger:"blur"}]}}},methods:{openDialog:function(e,t){this.clearFile(),"add"==e?(this.po.video.id="",this.po.video.text="",this.po.video.url="",this.vo.dialog.title="添加视频"):(this.po.video.id=t._id,this.po.video.text=t.text,this.po.video.url=t.url,this.vo.dialog.title="添加视频信息"),this.vo.dialog.mode=e,this.vo.dialog.open=!0},edit:function(){var e=this;this.$refs.videoForm.validate(function(t){if(!t)return!1;var o=e.$refs.videoFile.files,r=new FormData;"edit"==e.vo.dialog.mode&&r.append("id",e.po.video.id),r.append("text",e.po.video.text),o.length&&r.append("video",o[0]),(0,n.edit)(r).then(function(t){e.loadList(),e.vo.dialog.open=!1}).catch(function(t){e.$message({type:"error",message:t.message,duration:0,closed:!0})})})},loadList:function(){this.$refs.dg.reload()},selectFile:function(e){if(e.target.files&&e.target.files.length){var t=(e.target.files[0],new FileReader),o=this;t.onload=function(e){o.po.video.url=e.target.result}}},clearFile:function(){var e=this;this.vo.dialog.reloadFile=!1,this.$nextTick(function(){e.vo.dialog.reloadFile=!0})},delVideo:function(e){var t=this;this.$confirm("确定删除吗？","提示").then(function(){(0,n.del)({id:e._id}).then(function(e){t.loadList()})}).catch(function(e){t.$alert(e.message,"错误",{type:"error"})})}},mounted:function(){},components:{datagrid:l.default}}},179:function(e,t,o){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.del=t.edit=void 0;var n=o(3),i=o(4),a=r(i);t.edit=function(e){return(0,n.post)(a.VIDEO_EDIT,e,{timeout:216e5})},t.del=function(e){return(0,n.post)(a.VIDEO_DEL,e)}},249:function(e,t,o){t=e.exports=o(15)(),t.push([e.id,".imgWarp[data-v-6c3fd47e]{padding:10px}input[type=file][data-v-6c3fd47e]{line-height:28px;border:1px solid #c2c2c2;margin-bottom:5px}.propInfo[data-v-6c3fd47e]{margin-left:20px}",""])},278:function(e,t,o){var r=o(249);"string"==typeof r&&(r=[[e.id,r,""]]);o(19)(r,{});r.locals&&(e.exports=r.locals)},292:function(e,t,o){var r,n;o(278),r=o(165);var i=o(316);n=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(n=r=r.default),"function"==typeof n&&(n=n.options),n.render=i.render,n.staticRenderFns=i.staticRenderFns,n._scopeId="data-v-6c3fd47e",e.exports=r},316:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("el-row",[o("el-col",{attrs:{span:24}},[o("div",{staticClass:"grid-content bg-purple-dark"},[o("h1",{staticClass:"add"},[e._v("视频管理\n                        "),o("el-button",{attrs:{icon:"plus",type:"success"},on:{click:function(t){e.openDialog("add")}}},[e._v("添加")])],1)])])],1)],1),e._v(" "),o("datagrid",{ref:"dg",attrs:{url:e.vo.url}},[o("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticClass:"imgWarp"},[o("video",{attrs:{width:"320",height:"240",controls:""}},[o("source",{attrs:{src:t.row.url,type:"video/mp4"}}),e._v("\n                        您的浏览器不支持Video标签。\n                    ")])])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"视频说明",prop:"text",width:"200"}}),e._v(" "),o("el-table-column",{attrs:{label:"视频地址",prop:"url"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"small",icon:"edit"},on:{click:function(o){e.openDialog("edit",t.row)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{size:"small",icon:"delete"},on:{click:function(o){e.delVideo(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-dialog",{attrs:{title:e.vo.dialog.title,visible:e.vo.dialog.open},on:{"update:visible":function(t){e.vo.dialog.open=t}}},[o("el-form",{ref:"videoForm",attrs:{rules:e.rules,model:e.po.video}},[o("el-form-item",{attrs:{label:"视频说明",prop:"text","label-width":e.vo.labelWidth}},[o("el-input",{model:{value:e.po.video.text,callback:function(t){e.po.video.text=t},expression:"po.video.text"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"视频",prop:"img","label-width":e.vo.labelWidth}},[e.vo.dialog.reloadFile?o("input",{ref:"videoFile",attrs:{type:"file"},on:{change:function(t){e.selectFile(t)}}}):e._e()]),e._v(" "),e.po.video.url?o("el-form-item",{attrs:{label:"视频预览","label-width":e.vo.labelWidth}},[o("el-row",[o("el-col",{attrs:{span:24}},[o("div",{staticClass:"grid-content bg-purple-dark"},[o("video",{attrs:{width:"320",height:"240",controls:""}},[o("source",{attrs:{src:e.po.video.url,type:"video/mp4"}}),e._v("\n                                您的浏览器不支持Video标签。\n                            ")])])])],1)],1):e._e()],1),e._v(" "),o("div",{staticClass:"dialog-footer",slot:"footer"},[o("el-button",{on:{click:function(t){e.vo.dialog.open=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.edit()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}}});